---
cssclass: wide
alias: процесс обработки заявки
---

*Последнее редактирование: <%+ tp.file.last_modified_date() %>*

# Processing of the Order

Или обработка [[Order|заявки]] системой. Процесс запускается, после того, как [[Client|клиент]] создаёт [[Order|заявку]] в системе.

Процесс состоит из трёх частей (расположены в порядке иерархии): 

- [[Supervisor | Супервайзор]]
- [[TaskManager | Менеджер задач]]
- [[Task | Задача]]

## Супервайзор

В первую очередь, [[Order|заявку]] получает Супервайзор. 

Супервайзор — это сервис, служба, которая отвечает за обработку [[Order|заявки]] на «верхнем уровне». Это означает, что заявка, попадая к [[Supervisor | Супервайзору]], делится на [[Job|задание]] и подзадание. 

> [!info] Супервайзор занимается управлением [[Job|заданиями]] и управлением [[TaskManager|менеджерами задач]] 
> 
> На каждое [[Job|задание]], [[Supervisor|супервайзор]] создаёт (назначает) [[TaskManager|менеджера задач]]. Тот в свою очередь, занимается управлением [[Task|задачами]].

## Менеджер задач

[[TaskManager|Менеджер задач]] появляется с помощью супервайзора, который его создаёт. Менеджер задач отвечает за выполнение [[Job|задания]] и подзадания, занимается созданием и управлением [[Task|задач]] для конкретной единицы [[BuyBack|выкупа]].

Менеджер задач получает на входе информацию из [[Job|задания]], которое было сформировано ранее [[Supervisor|Супервайзором]]. А также занимается поиском доступных [[MarketPlaceAccount|учетных записей]] и их назначением для организации процесса выкупа. 

## Задача

[[Task | Задача]] появляется с помощью [[TaskManager|менеджера задач]], который эту задачу создаёт для конкретного экземпляра [[BuyBack|выкупа]]. 

По сути задача состоит из: 

- Одной единицы выкупа, то есть одна покупка [[Article|артикула]]
- Одной [[MarketPlaceAccount|учетной записи]], которая совершает эту покупку

При успешном выполнении задачи, на выходе получаем один выкуп. 

## Результат процесса работы обработки заявки

Результатом работы процесса, становится выполненная заявка. Иными словами, все товары которые указал [[Client|клиент]] в заявке, были успешно выкуплены и отправлены [[MarketPlace|маркетплейсом]] на указанный [[PickupPoint|ПВЗ]]. 