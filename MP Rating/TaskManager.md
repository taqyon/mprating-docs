---
cssclass: wide
alias: менеджер задач
---

#Finishup 

*Последнее редактирование: <%+ tp.file.last_modified_date() %>*

# TaskManager

Менеджер задач. Занимается созданием и управлением [[Task|задач]] для конкретной единицы [[BuyBack|выкупа]].

Менеджер задач получает на входе информацию из [[Job|задания]], которое было сформировано ранее [[Supervisor|Супервайзором]]. А также занимается поиском доступных [[MarketPlaceAccount|учетных записей]] и их назначением для организации процесса выкупа. 

## Алгоритм

[Подробно алгоритм описан здесь.](https://www.figma.com/file/t3Kka2MD2RBuDjdRQjrFMO/3.2.-%D0%9E%D0%B1%D1%80%D0%B0%D0%B1%D0%BE%D1%82%D0%BA%D0%B0-%D0%B7%D0%B0%D1%8F%D0%B2%D0%BA%D0%B8%3A-%D0%9C%D0%B5%D0%BD%D0%B5%D0%B4%D0%B6%D0%B5%D1%80-%D0%B7%D0%B0%D0%B4%D0%B0%D1%87?node-id=0%3A1) 

В алгоритме работы следует отметить два важных момента: 

1. **Правило «Блокирования учетной записи».** Правило которое гласит: пока учетная запись находится в статусе Busy в действующем задании. Эту учетную запись нельзя использовать для другого задания.
2. **Наличие расписание у [[Job|задания.]]** В зависимости от того, есть ли расписание у задания или нет система ведёт себя по разному. 
	- Если расписания нет, то процесс выкупа происходит мгновенно. То есть задачи отправляются сразу в работу. 
	- Если расписание есть, то процесс выкупа происходит «органически», в течение дня. 

### Органический выкуп

Это способ выкупа, который имитирует реальное поведение пользователей при выкупе товара в течение одних суток. 

#### Формула

$$ Количество \: часов \: в \: сутках \;/ \; Количество \: выкупов = Интервал \: выкупов \: в \:течение \: одних \:суток $$

